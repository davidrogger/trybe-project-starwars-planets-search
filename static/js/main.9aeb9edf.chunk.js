(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],[,function(e,t,a){e.exports={painel__container:"FilterPainel_painel__container__2SXrs",painel__head:"FilterPainel_painel__head__1Rrc7",input__filter:"FilterPainel_input__filter__DE33V",numericValues__container:"FilterPainel_numericValues__container__f3B9V",filterOrder__container:"FilterPainel_filterOrder__container__NlcMO",removeBtn_container:"FilterPainel_removeBtn_container__2mbKM",numericValues__input:"FilterPainel_numericValues__input__Asp5g",advancedFilters__container:"FilterPainel_advancedFilters__container__22QRk",inputRadio__container:"FilterPainel_inputRadio__container__P9ztA",filter__applied:"FilterPainel_filter__applied__3DwYp",applied_filters_container:"FilterPainel_applied_filters_container__1CEWv"}},,,,function(e,t,a){e.exports={search__container:"Table_search__container__2lRfC",table__container:"Table_table__container__2ppfm",hyperlink_content:"Table_hyperlink_content__qPRqM"}},,,,,,function(e,t,a){e.exports={header__container:"Header_header__container__F8prL",header__title:"Header_header__title__-P60c"}},,,function(e,t){e.exports={count:60,next:"https://swapi-trybe.herokuapp.com/api/planets/?page=2",previous:null,results:[{name:"Tatooine",rotation_period:"23",orbital_period:"304",diameter:"10465",climate:"arid",gravity:"1 standard",terrain:"desert",surface_water:"1",population:"200000",residents:["https://swapi-trybe.herokuapp.com/api/people/1/","https://swapi-trybe.herokuapp.com/api/people/2/","https://swapi-trybe.herokuapp.com/api/people/4/","https://swapi-trybe.herokuapp.com/api/people/6/","https://swapi-trybe.herokuapp.com/api/people/7/","https://swapi-trybe.herokuapp.com/api/people/8/","https://swapi-trybe.herokuapp.com/api/people/9/","https://swapi-trybe.herokuapp.com/api/people/11/","https://swapi-trybe.herokuapp.com/api/people/43/","https://swapi-trybe.herokuapp.com/api/people/62/"],films:["https://swapi-trybe.herokuapp.com/api/films/1/","https://swapi-trybe.herokuapp.com/api/films/3/","https://swapi-trybe.herokuapp.com/api/films/4/","https://swapi-trybe.herokuapp.com/api/films/5/","https://swapi-trybe.herokuapp.com/api/films/6/"],created:"2014-12-09T13:50:49.641000Z",edited:"2014-12-20T20:58:18.411000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/1/"},{name:"Alderaan",rotation_period:"24",orbital_period:"364",diameter:"12500",climate:"temperate",gravity:"1 standard",terrain:"grasslands, mountains",surface_water:"40",population:"2000000000",residents:["https://swapi-trybe.herokuapp.com/api/people/5/","https://swapi-trybe.herokuapp.com/api/people/68/","https://swapi-trybe.herokuapp.com/api/people/81/"],films:["https://swapi-trybe.herokuapp.com/api/films/1/","https://swapi-trybe.herokuapp.com/api/films/6/"],created:"2014-12-10T11:35:48.479000Z",edited:"2014-12-20T20:58:18.420000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/2/"},{name:"Yavin IV",rotation_period:"24",orbital_period:"4818",diameter:"10200",climate:"temperate, tropical",gravity:"1 standard",terrain:"jungle, rainforests",surface_water:"8",population:"1000",residents:[],films:["https://swapi-trybe.herokuapp.com/api/films/1/"],created:"2014-12-10T11:37:19.144000Z",edited:"2014-12-20T20:58:18.421000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/3/"},{name:"Hoth",rotation_period:"23",orbital_period:"549",diameter:"7200",climate:"frozen",gravity:"1.1 standard",terrain:"tundra, ice caves, mountain ranges",surface_water:"100",population:"unknown",residents:[],films:["https://swapi-trybe.herokuapp.com/api/films/2/"],created:"2014-12-10T11:39:13.934000Z",edited:"2014-12-20T20:58:18.423000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/4/"},{name:"Dagobah",rotation_period:"23",orbital_period:"341",diameter:"8900",climate:"murky",gravity:"N/A",terrain:"swamp, jungles",surface_water:"8",population:"unknown",residents:[],films:["https://swapi-trybe.herokuapp.com/api/films/2/","https://swapi-trybe.herokuapp.com/api/films/3/","https://swapi-trybe.herokuapp.com/api/films/6/"],created:"2014-12-10T11:42:22.590000Z",edited:"2014-12-20T20:58:18.425000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/5/"},{name:"Bespin",rotation_period:"12",orbital_period:"5110",diameter:"118000",climate:"temperate",gravity:"1.5 (surface), 1 standard (Cloud City)",terrain:"gas giant",surface_water:"0",population:"6000000",residents:["https://swapi-trybe.herokuapp.com/api/people/26/"],films:["https://swapi-trybe.herokuapp.com/api/films/2/"],created:"2014-12-10T11:43:55.240000Z",edited:"2014-12-20T20:58:18.427000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/6/"},{name:"Endor",rotation_period:"18",orbital_period:"402",diameter:"4900",climate:"temperate",gravity:"0.85 standard",terrain:"forests, mountains, lakes",surface_water:"8",population:"30000000",residents:["https://swapi-trybe.herokuapp.com/api/people/30/"],films:["https://swapi-trybe.herokuapp.com/api/films/3/"],created:"2014-12-10T11:50:29.349000Z",edited:"2014-12-20T20:58:18.429000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/7/"},{name:"Naboo",rotation_period:"26",orbital_period:"312",diameter:"12120",climate:"temperate",gravity:"1 standard",terrain:"grassy hills, swamps, forests, mountains",surface_water:"12",population:"4500000000",residents:["https://swapi-trybe.herokuapp.com/api/people/3/","https://swapi-trybe.herokuapp.com/api/people/21/","https://swapi-trybe.herokuapp.com/api/people/35/","https://swapi-trybe.herokuapp.com/api/people/36/","https://swapi-trybe.herokuapp.com/api/people/37/","https://swapi-trybe.herokuapp.com/api/people/38/","https://swapi-trybe.herokuapp.com/api/people/39/","https://swapi-trybe.herokuapp.com/api/people/42/","https://swapi-trybe.herokuapp.com/api/people/60/","https://swapi-trybe.herokuapp.com/api/people/61/","https://swapi-trybe.herokuapp.com/api/people/66/"],films:["https://swapi-trybe.herokuapp.com/api/films/3/","https://swapi-trybe.herokuapp.com/api/films/4/","https://swapi-trybe.herokuapp.com/api/films/5/","https://swapi-trybe.herokuapp.com/api/films/6/"],created:"2014-12-10T11:52:31.066000Z",edited:"2014-12-20T20:58:18.430000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/8/"},{name:"Coruscant",rotation_period:"24",orbital_period:"368",diameter:"12240",climate:"temperate",gravity:"1 standard",terrain:"cityscape, mountains",surface_water:"unknown",population:"1000000000000",residents:["https://swapi-trybe.herokuapp.com/api/people/34/","https://swapi-trybe.herokuapp.com/api/people/55/","https://swapi-trybe.herokuapp.com/api/people/74/"],films:["https://swapi-trybe.herokuapp.com/api/films/3/","https://swapi-trybe.herokuapp.com/api/films/4/","https://swapi-trybe.herokuapp.com/api/films/5/","https://swapi-trybe.herokuapp.com/api/films/6/"],created:"2014-12-10T11:54:13.921000Z",edited:"2014-12-20T20:58:18.432000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/9/"},{name:"Kamino",rotation_period:"27",orbital_period:"463",diameter:"19720",climate:"temperate",gravity:"1 standard",terrain:"ocean",surface_water:"100",population:"1000000000",residents:["https://swapi-trybe.herokuapp.com/api/people/22/","https://swapi-trybe.herokuapp.com/api/people/72/","https://swapi-trybe.herokuapp.com/api/people/73/"],films:["https://swapi-trybe.herokuapp.com/api/films/5/"],created:"2014-12-10T12:45:06.577000Z",edited:"2014-12-20T20:58:18.434000Z",url:"https://swapi-trybe.herokuapp.com/api/planets/10/"}]}},function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(13),p=a.n(i),o=a(11),l=a.n(o);var c=function(){return n.a.createElement("header",{className:l.a.header__container},n.a.createElement("div",{className:l.a.header__title},n.a.createElement("strong",null,"STAR WARS"),n.a.createElement("em",null,"PLANETS")))},u=a(4),s=a.n(u),m=a(8),d=a(2),f=Object(r.createContext)(),h=f.Provider,_=["population","orbital_period","diameter","rotation_period","surface_water"],b={column:"",comparison:"maior que",value:"0"},v={column:"population",sort:"asc"};function y(e){var t=e.children,a=Object(r.useState)([]),i=Object(d.a)(a,2),p=i[0],o=i[1],l=Object(r.useState)(""),c=Object(d.a)(l,2),u=c[0],s=c[1],m=Object(r.useState)(b),f=Object(d.a)(m,2),y=f[0],k=f[1],w=Object(r.useState)([]),E=Object(d.a)(w,2),O=E[0],j=E[1],N=Object(r.useState)([]),g=Object(d.a)(N,2),F=g[0],C=g[1],x=Object(r.useState)([]),T=Object(d.a)(x,2),R=T[0],Z=T[1],B=Object(r.useState)([]),V=Object(d.a)(B,2),P=V[0],S=V[1],q=Object(r.useState)(_),A=Object(d.a)(q,2),D=A[0],I=A[1],M=Object(r.useState)(v),H=Object(d.a)(M,2),L=H[0],z=H[1],J=Object(r.useState)([]),K=Object(d.a)(J,2),W={data:p,setData:o,filterResult:R,setFilterResult:Z,filterByName:u,setFilterByName:s,filterByNumericValue:y,setFilterByNumericValue:k,filterNumeric:O,setFilterNumeric:j,filterNumericResult:F,setFilterNumericResult:C,filterOptions:P,setFilterOptions:S,options:D,setOptions:I,filterOrder:L,setFilterOrder:z,columnTitles:K[0],setColumnTitles:K[1]};return n.a.createElement(h,{value:W},t)}var k=a(5),w=a.n(k),E=a(1),O=a.n(E);var j=function(){var e=Object(r.useContext)(f),t=e.data,a=e.setFilterByName,i=e.filterByName,p=e.setFilterResult;return Object(r.useEffect)((function(){var e=0===i.length,a=t.filter((function(e){return e.name.toLowerCase().includes(i)}));p(e?t:a)}),[t,i,p]),n.a.createElement("div",{className:O.a.painel__head},n.a.createElement("input",{type:"text","data-testid":"name-filter",className:O.a.input__filter,placeholder:"Filter by name",onChange:function(e){var t=e.target;return a(t.value)}}))},N=a(3),g=a(24);var F=function(e){var t=e.column,a=e.comparison,i=e.value,p=e.id,o=Object(r.useContext)(f),l=o.filterNumeric,c=o.setFilterNumeric;return n.a.createElement("li",{className:O.a.filter__applied,"data-testid":"filter"},"Coluna ".concat(t," ").concat(a," que ").concat(i,"."),n.a.createElement("button",{type:"button",onClick:function(){return function(e){var t=Object(N.a)(l),a=t.findIndex((function(t){return t.id===e}));t.splice(a,1),c(t)}(p)}},n.a.createElement(g.a,null)))};var C=function(){var e=Object(r.useContext)(f).filterNumeric;return n.a.createElement("div",null,n.a.createElement("ul",{className:O.a.applied_filters_container},e.map((function(e){var t=e.column,a=e.comparison,r=e.value,i=e.id;return n.a.createElement(F,{key:i,id:i,column:t,comparison:a,value:r})}))))};var x=function(){var e=Object(r.useContext)(f),t=e.filterByNumericValue,a=e.setFilterNumeric,i=e.filterOptions;return n.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){var e=t.column,r=t.comparison,n=t.value,i={id:"id".concat(Math.random().toString(16).slice(2)),column:e,comparison:r,value:n};a((function(e){return[].concat(Object(N.a)(e),[i])}))},disabled:0===i.length},"Filtrar")},T=a(6),R=a(10);var Z=function(e,t){var a=e.name,r=e.value;t((function(e){return Object(T.a)(Object(T.a)({},e),{},Object(R.a)({},a,r))}))};var B=function(e){var t=e.testeId,a=e.name,r=e.value,i=e.onChange,p=e.options;return n.a.createElement("select",{"data-testid":t,name:a,value:r,onChange:i},p.map((function(e){return n.a.createElement("option",{key:e,value:e},e)})))};var V=function(){var e=Object(r.useContext)(f),t=e.filterNumeric,a=e.filterByNumericValue,i=e.setFilterByNumericValue,p=e.filterOptions,o=e.setFilterOptions,l=e.options;function c(e){i((function(t){return Object(T.a)(Object(T.a)({},t),{},{column:e})}))}return Object(r.useEffect)((function(){if(0!==t.length){var e=t.map((function(e){return e.column})),a=l.filter((function(t){return e.every((function(e){return e!==t}))}));o(a),c(a[0])}else o(l),c(l[0])}),[t]),n.a.createElement(B,{testeId:"column-filter",name:"column",value:a.column,onChange:function(e){var t=e.target;return Z(t,i)},options:p})},P=["maior que","menor que","igual a"];var S=function(){var e=Object(r.useContext)(f),t=e.filterByNumericValue,a=e.setFilterByNumericValue;return n.a.createElement("select",{"data-testid":"comparison-filter",name:"comparison",value:t.comparison,onChange:function(e){var t=e.target;return Z(t,a)}},P.map((function(e){return n.a.createElement("option",{key:e,value:e},e)})))};var q=function(){var e=Object(r.useContext)(f),t=e.filterByNumericValue,a=e.setFilterByNumericValue;return n.a.createElement("input",{type:"number","data-testid":"value-filter",name:"value",value:t.value,onChange:function(e){var t=e.target;return Z(t,a)}})};var A=function(){return n.a.createElement("div",{className:O.a.numericValues__input},n.a.createElement(V,null),n.a.createElement(S,null),n.a.createElement(q,null),n.a.createElement(x,null))};var D=function(){var e=Object(r.useContext)(f),t=e.filterNumeric,a=e.filterResult,i=e.setFilterNumericResult;return Object(r.useEffect)((function(){var e=Object(N.a)(a);t.forEach((function(t){var a=t.column,r=t.comparison,n=t.value;e=e.filter((function(e){return function(e,t,a){var r=Number(e),n=Number(a);if(!r)return!1;switch(t){case"maior que":return r>n;case"menor que":return r<=n;default:return r===n}}(e[a],r,n)}))})),i(e)}),[t,a]),n.a.createElement("div",{className:O.a.numericValues__container},n.a.createElement(A,null))};var I=function(){var e=Object(r.useContext)(f),t=e.options,a=e.filterOrder,i=e.setFilterOrder;return n.a.createElement(B,{testeId:"column-sort",name:"column",value:a.column,onChange:function(e){var t=e.target;return Z(t,i)},options:t})},M=["asc","desc"];var H=function(){var e=Object(r.useContext)(f),t=e.filterOrder,a=e.setFilterOrder;return n.a.createElement("div",{className:O.a.inputRadio__container},M.map((function(e){return n.a.createElement("label",{htmlFor:e,key:e},n.a.createElement("input",{"data-testid":"column-sort-input-".concat(e),type:"radio",id:e,name:"sort",value:e,checked:t.sort===e,onChange:function(e){var t=e.target;return Z(t,a)}}),"asc"===e?"Ascendente":"Descendente")})))};var L=function(){var e=Object(r.useContext)(f),t=e.filterOrder,a=e.filterResult,i=e.setFilterNumericResult,p=e.setFilterResult;return n.a.createElement("button",{type:"button","data-testid":"column-sort-button",onClick:function(){var e=Object(N.a)(a),r=t.column,n=t.sort;e.sort((function(e,t){return function(e,t,a){var r=Number(e),n=Number(t);if(!r)return 1;if(!n)return-1;switch(a){case"asc":return r-n;default:return n-r}}(e[r],t[r],n)})),i(e),p(e)}},"Ordenar")};var z=function(){return n.a.createElement("div",{className:O.a.filterOrder__container},n.a.createElement(I,null),n.a.createElement(H,null),n.a.createElement(L,null))};var J=function(){var e=Object(r.useContext)(f).setFilterNumeric;return n.a.createElement("div",{className:O.a.removeBtn_container},n.a.createElement("button",{type:"button","data-testid":"button-remove-filters",onClick:function(){return e([])}},"Remover todas filtragens"))};var K=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:O.a.advancedFilters__container},n.a.createElement(D,null),n.a.createElement(z,null),n.a.createElement(J,null)),n.a.createElement(C,null))};var W=function(){return n.a.createElement("div",{className:O.a.painel__container},n.a.createElement(j,null),n.a.createElement(K,null))};var Y=function(){var e=Object(r.useContext)(f),t=e.filterResult,a=e.filterNumericResult,i=0===e.filterNumeric.length?t:a;return n.a.createElement("tbody",null,i.map((function(e){var t=e.name,a=e.rotation_period,r=e.orbital_period,i=e.diameter,p=e.climate,o=e.gravity,l=e.terrain,c=e.surface_water,u=e.population,s=e.films,m=e.created,d=e.edited,f=e.url;return n.a.createElement("tr",{key:t},n.a.createElement("td",{"data-testid":"planet-name"},t),n.a.createElement("td",null,a),n.a.createElement("td",null,r),n.a.createElement("td",null,i),n.a.createElement("td",null,p),n.a.createElement("td",null,o),n.a.createElement("td",null,l),n.a.createElement("td",null,c),n.a.createElement("td",null,u),n.a.createElement("td",{className:w.a.hyperlink_content},function(e,t){return n.a.createElement("ul",null,t.map((function(t,a){return n.a.createElement("li",{key:"".concat(e,"-").concat(a)},t)})))}(t,s)),n.a.createElement("td",null,m),n.a.createElement("td",null,d),n.a.createElement("td",{className:w.a.hyperlink_content},f))})))};var Q=function(){var e=Object(r.useContext)(f).columnTitles;return n.a.createElement("thead",null,n.a.createElement("tr",null,e.map((function(e){return n.a.createElement("th",{key:e},e)}))))},U=a(14),X=a.n(U),G=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var $=function(e){return e.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))};var ee=function(e){return e.filter((function(e){return"residents"!==e})).map((function(e){return function(e){return e[0].toUpperCase()+e.substring(1)}(e)})).map((function(e){return function(e){return e.search("_")>0?e.replace("_"," "):e}(e)}))};var te=function(){var e=Object(r.useContext)(f),t=e.setData,a=e.setFilterResult,i=e.setColumnTitles;return Object(r.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var r,n,p,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("planets");case 2:r=e.sent,n=r.results,p=$(n),o=Object.keys(n[0]),l=ee(o),i(l),t(p),a(p);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n.a.createElement("div",{className:w.a.search__container},n.a.createElement(W,null),n.a.createElement("div",{className:w.a.table__container},n.a.createElement("table",null,n.a.createElement(Q,null),n.a.createElement(Y,null))))};var ae=function(){return n.a.createElement("main",null,n.a.createElement(y,null,n.a.createElement(c,null),n.a.createElement(te,null)))};a(21);p.a.render(n.a.createElement(ae,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.9aeb9edf.chunk.js.map